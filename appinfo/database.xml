<?xml version="1.0" encoding="ISO-8859-1" ?>
<database xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:noNamespaceSchemaLocation="https://apps.nextcloud.com/schema/apps/database.xsd">
	<name>*dbname*</name>
	<create>true</create>
	<overwrite>false</overwrite>
	<charset>utf8</charset>
	<table>
		<name>*dbprefix*virwork_auth</name>
		<declaration>
			<field>
				<name>id</name>
				<type>integer</type>
				<notnull>true</notnull>
				<autoincrement>true</autoincrement>
				<unsigned>true</unsigned>
				<primary>true</primary>
			</field>
			<field>
				<name>username</name>
				<type>text</type>
				<notnull>true</notnull>
				<length>64</length>
			</field>
			<field>
				<name>password</name>
				<type>text</type>
				<notnull>true</notnull>
				<length>2000</length>
			</field>
			<field>
				<name>client_token</name>
				<type>text</type>
				<notnull>true</notnull>
				<length>512</length>
			</field>
			<index>
				<name>virwork_auth_id_idx</name>
				<unique>false</unique>
				<field>
					<name>username</name>
				</field>
			</index>
		</declaration>
	</table>
	<table>
		<name>*dbprefix*virwork_auth_group_access</name>
		<declaration>
			<field>
				<name>id</name>
				<type>integer</type>
				<notnull>true</notnull>
				<autoincrement>true</autoincrement>
				<unsigned>true</unsigned>
				<primary>true</primary>
			</field>
			<field>
				<name>group</name>
				<type>text</type>
				<notnull>true</notnull>
				<length>64</length>
			</field>
			<field>
				<name>vvwork_group_id</name>
				<type>integer</type>
				<notnull>true</notnull>
			</field>
			<field>
				<name>quota</name>
				<type>text</type>
				<notnull>false</notnull>
				<length>32</length>
			</field>
			<field>
				<name>upload</name>
				<type>integer</type>
				<notnull>true</notnull>
			</field>
			<field>
				<name>download</name>
				<type>integer</type>
				<notnull>true</notnull>
			</field>
			<field>
				<name>delete</name>
				<type>integer</type>
				<notnull>true</notnull>
			</field>
			<field>
				<name>local_share</name>
				<type>integer</type>
				<notnull>true</notnull>
			</field>
			<field>
				<name>public_share</name>
				<type>integer</type>
				<notnull>true</notnull>
			</field>
			
			<index>
				<name>virwork_auth_group_access_id_idx</name>
				<unique>true</unique>
				<field>
					<name>group</name>
				</field>
			</index>
		</declaration>
	</table>

	<table>
		<name>*dbprefix*virwork_auth_group</name>
		<declaration>
			<field>
				<name>id</name>
				<type>integer</type>
				<notnull>true</notnull>
				<autoincrement>true</autoincrement>
				<unsigned>true</unsigned>
				<primary>true</primary>
			</field>
			<field>
				<name>group</name>
				<type>text</type>
				<notnull>true</notnull>
				<length>64</length>
			</field>			
			<field>
				<name>vvwork_group_id</name>
				<type>integer</type>
				<notnull>true</notnull>
			</field>
		</declaration>
	</table>
	<table>
		<name>*dbprefix*virwork_auth_group_rls</name>
		<declaration>
			<field>
				<name>id</name>
				<type>integer</type>
				<notnull>true</notnull>
				<autoincrement>true</autoincrement>
				<unsigned>true</unsigned>
				<primary>true</primary>
			</field>
			<field>
				<name>vvwork_group_id</name>
				<type>integer</type>
				<notnull>true</notnull>
			</field>
			<field>
				<name>parent_vvwork_group_id</name>
				<type>integer</type>
				<notnull>true</notnull>
			</field>			
		</declaration>
	</table>
	<table>
		<name>*dbprefix*virwork_auth_group_role</name>
		<declaration>
			<field>
				<name>id</name>
				<type>integer</type>
				<notnull>true</notnull>
				<autoincrement>true</autoincrement>
				<unsigned>true</unsigned>
				<primary>true</primary>
			</field>

			<field>
				<name>role</name>
				<type>text</type>
				<notnull>true</notnull>
				<length>64</length>
			</field>
			<field>
				<name>vvwork_role_id</name>
				<type>integer</type>
				<notnull>true</notnull>
			</field>
			<field>
				<name>vvwork_group_id</name>
				<type>integer</type>
				<notnull>true</notnull>
			</field>			
		</declaration>
	</table>

	<table>
		<name>*dbprefix*virwork_auth_user_role</name>
		<declaration>
			<field>
				<name>id</name>
				<type>integer</type>
				<notnull>true</notnull>
				<autoincrement>true</autoincrement>
				<unsigned>true</unsigned>
				<primary>true</primary>
			</field>
			<field>
				<name>username</name>
				<type>text</type>
				<notnull>true</notnull>
				<length>64</length>
			</field>
			<field>
				<name>vvwork_user_id</name>
				<type>integer</type>
				<notnull>true</notnull>
			</field>
			<field>
				<name>vvwork_role_id</name>
				<type>integer</type>
				<notnull>false</notnull>
			</field>		
		</declaration>
	</table>
</database>
